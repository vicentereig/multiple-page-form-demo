(this["webpackJsonpmultiple-page-form-demo"]=this["webpackJsonpmultiple-page-form-demo"]||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),c=a.n(r),s=(a(20),a(4)),o=a(1),i=a(3),m=a(14);var u={CREATE_WORKFLOW:function(e,t){e.ui[t.workflowName]={steps:t.steps,currentStep:0}},MOVE:function(e,t){e.ui[t.workflowName].currentStep=t.nextStep},CREATE_ACCOUNT:function(e,t){e.models.account=t.account},CREATE_PRIVACY_DETAILS:function(e,t){e.models.account.privacy=t.privacy}},p=Object(m.a)({ui:{},models:{}},u),d=Object(i.e)(p,Object(i.a)((function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}}))),E=function(e){var t=e.className,a=e.steps,r=e.currentStep,c=Object(n.useState)("w-1/".concat(a.length)),s=function(e){var t=e.title,a=e.isFirst,n=e.isLast,r="mx-auto text-gray-800 text-xs".split(" ").concat(c);return a?r.push("text-left"):n?r.push("text-right"):r.push("text-center"),l.a.createElement("div",{className:r.join(" ")},t)},o=function(e){var t=e.steps,a=t.map((function(e,a){return l.a.createElement(s,{key:a,isFirst:0===a,isLast:a===t.length-1,title:e.title})}));return l.a.createElement("div",{className:"flex content-center"},a)},i=function(e){var t=e.steps,a=e.currentStep,n=function(e){var t=e.isPending,a="w-6 h-6  border-2 border-white mx-auto rounded-full text-white".split(" ").concat(t?"bg-gray-400":"bg-gray-800").join(" ");return l.a.createElement("div",{className:"flex-1"},l.a.createElement("div",{className:a}))},r=function(e){var t=e.isPending,a="text-xs leading-none py-1 w-full".split(" ").concat(t?"bg-gray-400":"bg-gray-800").join(" ");return l.a.createElement("div",{className:"w-full content-center items-center align-middle justify-between flex"},l.a.createElement("div",{className:"flex-1"},l.a.createElement("div",{className:a})))},c=function(e){var t=e.isPending;return l.a.createElement(l.a.Fragment,null,l.a.createElement(n,{isPending:t}),l.a.createElement(r,{isPending:t}))},s=t.map((function(e,r){return r<t.length-1?l.a.createElement(c,{key:r,isPending:r>a}):l.a.createElement(n,{key:r,isPending:r>a})}));return l.a.createElement("div",{className:"flex"},s)};return l.a.createElement("div",{className:t},l.a.createElement(o,{steps:a}),l.a.createElement(i,{steps:a,currentStep:r}))},f=function(e){var t=e.name,a=e.children,r=e.workflow,c=e.onFinalStepComplete,s=Object(o.b)();Object(n.useEffect)((function(){r.currentStep===r.steps.length-1&&c()}),[r.currentStep,r.steps.length,c]);var i=function(e){s(function(e,t){return{type:"MOVE",workflowName:e,nextStep:t}}(t,e))},m=n.Children.map(a,(function(e,t){if(t===r.currentStep)return Object(n.cloneElement)(e,{currentStep:r.currentStep,steps:r.steps,moveSteps:i})}));return l.a.createElement("div",{id:t},m)},g=function(e){var t=e.name,a=e.children,r=e.onComplete,c=Object(o.b)(),s=Object(o.c)((function(e){return e.ui[t]}));return Object(n.useEffect)((function(){var e=n.Children.map(a,(function(e){return{title:e.props.title}}));c(function(e,t){return{type:"CREATE_WORKFLOW",workflowName:e,steps:t}}(t,e))}),[]),s?l.a.createElement(f,{name:t,workflow:s,onFinalStepComplete:r},a):null},h=function(e){var t=e.title,a=e.currentStep,r=e.steps,c=e.moveSteps,o=Object(n.useState)(!1),i=Object(s.a)(o,2),m=i[0],u=i[1];return l.a.createElement("div",{className:"border border-gray-400 rounded-lg p-4"},l.a.createElement(E,{steps:r,currentStep:a,className:"pb-8"}),l.a.createElement("h1",null,t),l.a.createElement("button",{onClick:function(){u(!0)},className:"bg-gray-800 text-white mt-4 py-2 px-4 rounded-full",type:"submit"},"Complete"),l.a.createElement("button",{onClick:function(){m&&c(a+1)},className:"bg-gray-800 text-white mt-4 py-2 px-4 rounded-full",type:"submit"},"Next"))},b=function(e){var t=e.title,a=e.steps,n=e.currentStep;return l.a.createElement("div",{className:"border border-gray-400 rounded-lg p-4"},l.a.createElement(E,{steps:a,currentStep:n,className:"pb-8"}),l.a.createElement("h1",null,t))},N=function(){return l.a.createElement("section",null,l.a.createElement("h3",{className:"font-serif tracking-tight text-xl font-medium leading-10"},"Multiple Step Flow"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(o.a,{store:d},l.a.createElement(g,{name:"Sample Flow",onComplete:function(){console.log("Completed!")}},l.a.createElement(h,{title:"First Step"}),l.a.createElement(h,{title:"Second Step"}),l.a.createElement(h,{title:"Third Step"}),l.a.createElement(b,{title:"Fin."})))),l.a.createElement("div",{className:"w-1/2"},l.a.createElement("ul",{className:"list-disc pl-8"},l.a.createElement("li",null,"Support an arbitrary amount of steps"),l.a.createElement("li",null,"Each Step requires to be marked as `completed` before moving forward.")))))},w=a(8),v=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,x=function(e){return e.replace(/([A-Z][a-z])+/g,"").length<e.length||"It should contain at least one uppercase and one lowercase character"},y=function(e){return e.replace(/[\d]+/g,"").length<e.length||"Your password needs to include at least one number"},S=function(e){var t=e.errors,a=e.fieldName;if(!t[a])return null;var n="text-red-500 text-xs errorMessage-".concat(a),r=t[a].message;return l.a.createElement("span",{className:n},r)},k=function(e){var t=e.children;return l.a.createElement("div",{className:"w-full flex justify-end"},t)},O=function(){return l.a.createElement("button",{className:"block bg-gray-800 text-white mt-4 py-2 px-4 rounded-full nextStep",type:"submit"},"Next")},j="border rounded-lg border-gray-300 p-4 w-1/2".split(),P=function(e){var t=e.className,a=void 0===t?[]:t,n=e.steps,r=e.currentStep,c=e.moveSteps,s=Object(w.a)(),i=s.handleSubmit,m=s.register,u=s.errors,p=Object(o.b)();return l.a.createElement("div",{className:j.concat(a).join(" ")},l.a.createElement(E,{className:"pb-8",steps:n,currentStep:r}),l.a.createElement("h1",{className:"font-bold tracking-tight pt-4 text-lg"},"Setup Your Account"),l.a.createElement("form",{onSubmit:i((function(e){p({type:"CREATE_ACCOUNT",account:e}),c(r+1)}))},l.a.createElement("h2",{className:"font-medium text-gray-700 tracking-tight text-md"},"Your Personal Details"),l.a.createElement("label",{className:"block"},l.a.createElement("span",{className:"text-gray-700 text-sm"},"Name"),l.a.createElement("input",{name:"fullName",placeholder:"Jane Doe",className:"form-input text-sm mt-1 block w-full  fullNameField",ref:m({required:"Please enter your full name"})}),l.a.createElement(S,{errors:u,fieldName:"fullName"})),l.a.createElement("label",{className:"block pt-4"},l.a.createElement("span",{className:"text-gray-700 text-sm"},"Role"),l.a.createElement("input",{className:"form-input text-sm mt-1 block w-full roleField",name:"role",placeholder:"Software Engineer"})),l.a.createElement("h2",{className:"font-medium text-gray-700 tracking-tight text-md pt-4"},"Your User Details"),l.a.createElement("label",{className:"block"},l.a.createElement("span",{className:"text-gray-700 text-sm"},"Email"),l.a.createElement("input",{className:"form-input text-sm mt-1 block w-full emailField",name:"email",placeholder:"jane@email.com",ref:m({required:"Please enter your email address",pattern:{value:v,message:"Please enter a valid email"}})}),l.a.createElement(S,{errors:u,fieldName:"email"})),l.a.createElement("label",{className:"block pt-4"},l.a.createElement("span",{className:"text-gray-700 text-sm"},"Password"),l.a.createElement("input",{type:"password",name:"password",placeholder:"Your password",className:"form-input text-sm mt-1 block w-full passwordField",ref:m({required:"In order to keep your account safe, you need to choose a password",minLength:{value:10,message:"Please enter a password at least 10 characters long"},validate:{atLeastOneNumber:y,atLeastOneUpperAndLower:x}})}),l.a.createElement(S,{errors:u,fieldName:"password"})),l.a.createElement(k,null,l.a.createElement(O,null))))},A="border rounded-lg border-gray-300 p-4 w-1/2".split(),C=function(e){var t=e.className,a=e.currentStep,n=e.steps,r=e.moveSteps,c=Object(w.a)(),s=c.handleSubmit,i=c.register,m=Object(o.b)();return l.a.createElement("div",{className:A.concat(t).join(" ")},l.a.createElement(E,{className:"pb-8",steps:n,currentStep:a}),l.a.createElement("h1",{className:"font-bold tracking-tight pt-4 text-lg"},"Your Privacy"),l.a.createElement("form",{onSubmit:s((function(e){m(function(e){return{type:"CREATE_PRIVACY_DETAILS",privacy:e}}(e)),r(a+1)}))},l.a.createElement("div",{className:"block"},l.a.createElement("span",{className:"text-gray-700"},"Choose what we can do with your personal data"),l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",null,l.a.createElement("label",{className:"inline-flex items-center"},l.a.createElement("input",{type:"checkbox",name:"productUpdatesSubscription",ref:i,className:"form-checkbox productUpdatesField"}),l.a.createElement("span",{className:"ml-2"},"Receive updates about Tray.io product by email"))),l.a.createElement("div",null,l.a.createElement("label",{className:"inline-flex items-center"},l.a.createElement("input",{type:"checkbox",name:"otherProductsSubscription",ref:i,className:"form-checkbox otherProductsField"}),l.a.createElement("span",{className:"ml-2"},"Receive communication by email for other products"))))),l.a.createElement(k,null,l.a.createElement(O,null))))},F="border rounded-lg border-gray-300 p-4 w-1/2".split(),T=function(e){var t=e.className,a=e.currentStep,n=e.steps;return l.a.createElement("div",{className:F.concat(t).join(" ")},l.a.createElement(E,{className:"pb-8",steps:n,currentStep:a}),l.a.createElement("h1",{className:"font-bold tracking-tight pt-4 text-lg"},"You are all set!"),l.a.createElement("p",null,"Welcome to Tray.io, proceed to sign in and start using the product."))},I=function(e){var t=e.className,a=Object(o.c)((function(e){return e.models.account}));return l.a.createElement(g,{name:"SignUp",onComplete:function(){console.log("User created",a)}},l.a.createElement(P,{className:t,title:"Your Account"}),l.a.createElement(C,{className:t,title:"Your Privacy"}),l.a.createElement(T,{className:t,title:"All set!"}))},R=[{title:"Your Account"},{title:"Your Privacy"},{title:"All set!"}],Y=function(){return l.a.createElement("article",{className:"p-4"},l.a.createElement("header",{className:"border-b-2 border-gray-400 pb-8 mb-8"},l.a.createElement("h1",{className:"font-serif tracking-tight font-medium text-4xl leading-normal pt-4"},"Building a Multiple Step Sign-up Process"),l.a.createElement("a",{href:"https://github.com/vicentereig/multiple-page-form-demo",className:"text-gray-600"},"View on Github"),l.a.createElement("p",{className:"font-light text-md pt-2"},"Hi there! Thanks for taking a look at this project. The goal is to write a Multiple Page Form that is easy to extend. This document will walk you through over the following sections:"),l.a.createElement("ol",{className:"ml-12 list-decimal"},l.a.createElement("li",null,l.a.createElement("strong",null,"Demo")),l.a.createElement("li",null,l.a.createElement("strong",null,"Overview of the API"),"."),l.a.createElement("li",null,l.a.createElement("strong",null,"Storybook"),": with an overview of the component breakdown."))),l.a.createElement("section",null,l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(o.a,{store:d},l.a.createElement(I,{className:"w-full"}))),l.a.createElement("div",{className:"w-1/2"}))),l.a.createElement("h2",{className:"font-serif tracking-tight text-2xl font-medium leading-10"},"Storybook"),l.a.createElement(N,null),l.a.createElement("section",null,l.a.createElement("h3",{className:"font-serif tracking-tight text-xl font-medium leading-10"},"ProgressIndicator"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(E,{className:"pb-8",currentStep:0,steps:R}),l.a.createElement(E,{className:"pb-8",currentStep:1,steps:R}),l.a.createElement(E,{className:"pb-8",currentStep:2,steps:R})),l.a.createElement("div",{className:"w-1/2"},l.a.createElement("ul",{className:"list-disc pl-8"},l.a.createElement("li",null,"Support an arbitrary amount of steps"),l.a.createElement("li",null,"Ability to mark which steps have been completed and which are pending"))))),l.a.createElement("section",null,l.a.createElement("h3",{className:"font-serif tracking-tight text-xl font-medium leading-10"},"Accounts Detail Page"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(o.a,{store:d},l.a.createElement(P,{className:"w-full",currentStep:0,steps:R}))),l.a.createElement("div",{className:"w-1/2"},l.a.createElement("ul",{className:"list-disc pl-8"},l.a.createElement("li",null,"name, email, and password fiels are required"),l.a.createElement("li",null,"password should be greater than 9 chars and at least one number, one char uppercase, one char lowercase."),l.a.createElement("li",null,"Next button initially renders disabled, blocking form progress. It's enabled when this step of the form is valid."),l.a.createElement("li",null,"It will show a progress bar indicating the name of the current page, what's being completed, and what's ahead."))))),l.a.createElement("section",null,l.a.createElement("h3",{className:"font-serif tracking-tight text-xl font-medium leading-10"},"Privacy Detail Page"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(o.a,{store:d},l.a.createElement(C,{className:"w-full",currentStep:1,steps:R}))),l.a.createElement("div",{className:"w-1/2"},l.a.createElement("ul",{className:"list-disc pl-8"},l.a.createElement("li",null,"name, email, and password fiels are required"),l.a.createElement("li",null,"password should be greater than 9 chars and at least one number, one char uppercase, one char lowercase."),l.a.createElement("li",null,"Next button initially renders disabled, blocking form progress. It's enabled when this step of the form is valid."),l.a.createElement("li",null,"It will show a progress bar indicating the name of the current page, what's being completed, and what's ahead."))))),l.a.createElement("section",null,l.a.createElement("h3",{className:"font-serif tracking-tight text-xl font-medium leading-10"},"Signup Complete"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",{className:"w-1/2"},l.a.createElement(o.a,{store:d},l.a.createElement(T,{className:"w-full",currentStep:2,steps:R}))),l.a.createElement("div",{className:"w-1/2"},l.a.createElement("ul",{className:"list-disc pl-8"},l.a.createElement("li",null,"name, email, and password fiels are required"),l.a.createElement("li",null,"password should be greater than 9 chars and at least one number, one char uppercase, one char lowercase."),l.a.createElement("li",null,"Next button initially renders disabled, blocking form progress. It's enabled when this step of the form is valid."),l.a.createElement("li",null,"It will show a progress bar indicating the name of the current page, what's being completed, and what's ahead."))))))};a(28);var L=function(){return l.a.createElement("div",{className:"font-sans antialiased w-4/5 mx-auto bg-white"},l.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.228559c4.chunk.js.map